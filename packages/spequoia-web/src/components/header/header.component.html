<div>
  <h1>
    <a [routerLink]="'/'">{{ document.title }}</a>
  </h1>
</div>

<span class="filters">
  <ul>
    @for (tag of documentService.tagFilter(); track tag) {
      <app-tag
        [tagName]="tag"
        [deletable]="true"
        (onDelete)="removeTagFilter($event)"
      />
    }
  </ul>
  <app-tag-dropdown
    [availableTags]="documentService.availableTags()"
    [selectedTags]="documentService.tagFilter()"
    (tagToggled)="toggleTag($event)"
  />
</span>

<div class="search-container">
  <input type="search" placeholder="Search..." (input)="handleInput($event)" />
  @if (searchResults().length > 0) {
    <div class="search-results">
      @for (result of searchResults(); track result.id) {
        <div class="search-result" (click)="onResultClick(result)">
          <div class="result-title" [innerHTML]="result.name"></div>
          @if (result.description) {
            <div
              class="result-description"
              [innerHTML]="result.description"
            ></div>
          }
        </div>
      }
    </div>
  }
</div>
