@if (processedDocument) {
  <div class="document-root">
    <header>
      <div>
        <h1>{{ processedDocument.title }}</h1>
      </div>

      <div>
        <input type="search" placeholder="Search..." />
      </div>
    </header>

    <div class="panels">
      <nav>
        @for (heading of processedDocument.headings; track $index) {
          <a
            href="#{{ heading.id }}"
            [style.padding-left]="heading.level * 20 + 'px'"
            class="link"
            [class.active]="heading.id == activeHeadingId()"
            (click)="onHeadingClick(heading.id)"
          >
            {{ heading.text }}
          </a>
        }
      </nav>
      <div class="main-container" #mainContainer>
        <main>
          @if (safeProcessedDescription(); as descr) {
            <p [innerHTML]="descr"></p>
          }

          <h2>Features</h2>

          @for (
            feature of processedDocument.processedFeatures;
            track feature.id
          ) {
            <app-feature-panel [feature]="feature" />
          }

          @if(processedDocument.processedViews && processedDocument.processedViews.length) {
            <h2>Views</h2>
            @for (view of processedDocument.processedViews; track view.anchorId) {
              <app-view-panel [view]="view" />
            }
          }
        </main>
      </div>
    </div>
  </div>
}
